# Copyright 2025 CityLens Team
# Licensed under the Apache License, Version 2.0

# ============================================================
# CityLens SOSA/SSN Ontology
# ============================================================
# Implements W3C SOSA/SSN standards for IoT sensor observations
# References:
# - SOSA: https://www.w3.org/TR/vocab-ssn/
# - SSN: https://www.w3.org/TR/vocab-ssn-ext/
# ============================================================

@prefix : <http://citylens.io/ontology#> .
@prefix cl: <http://citylens.io/ontology#> .
@prefix sosa: <http://www.w3.org/ns/sosa/> .
@prefix ssn: <http://www.w3.org/ns/ssn/> .
@prefix ssn-system: <http://www.w3.org/ns/ssn/systems/> .
@prefix geo: <http://www.opengis.net/ont/geosparql#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix schema: <http://schema.org/> .

# ============================================================
# ONTOLOGY METADATA
# ============================================================

:CityLensOntology a owl:Ontology ;
    dcterms:title "CityLens Smart City Ontology"@en ;
    dcterms:description "Ontology for urban IoT sensors and citizen observations in smart cities"@en ;
    dcterms:created "2025-11-25"^^xsd:date ;
    dcterms:creator "CityLens Team" ;
    owl:versionInfo "1.0.0" ;
    owl:imports <http://www.w3.org/ns/sosa/> ,
                <http://www.w3.org/ns/ssn/> .

# ============================================================
# DOMAIN 1: ENVIRONMENTAL SENSORS
# ============================================================

## Sensor Classes

:AQISensor a owl:Class ;
    rdfs:subClassOf sosa:Sensor ;
    rdfs:label "Air Quality Index Sensor"@en ;
    rdfs:label "Cảm biến chỉ số chất lượng không khí"@vi ;
    rdfs:comment "Sensor that measures air quality including PM2.5, PM10, and other pollutants"@en ;
    ssn:implements :AQIObservingProcedure .

:WeatherStation a owl:Class ;
    rdfs:subClassOf sosa:Sensor ;
    rdfs:label "Weather Station"@en ;
    rdfs:label "Trạm thời tiết"@vi ;
    rdfs:comment "Station that observes weather conditions including temperature, humidity, precipitation"@en ;
    ssn:implements :WeatherObservingProcedure .

## Observable Properties

:AirQualityIndex a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty, ssn:Property ;
    rdfs:label "Air Quality Index"@en ;
    rdfs:label "Chỉ số chất lượng không khí"@vi ;
    rdfs:comment "Overall air quality index value"@en .

:PM25Concentration a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "PM2.5 Concentration"@en ;
    rdfs:comment "Particulate Matter 2.5 micrometers or less"@en ;
    ssn-system:hasSystemCapability :PM25MeasurementCapability .

:PM10Concentration a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "PM10 Concentration"@en .

:Temperature a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Air Temperature"@en ;
    rdfs:label "Nhiệt độ không khí"@vi .

:Humidity a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Relative Humidity"@en .

:Precipitation a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Precipitation"@en ;
    rdfs:label "Lượng mưa"@vi .

## Observation Classes

:AQIObservation a owl:Class ;
    rdfs:subClassOf sosa:Observation ;
    rdfs:label "AQI Observation"@en ;
    rdfs:comment "An observation of air quality at a specific time and place"@en .

:WeatherObservation a owl:Class ;
    rdfs:subClassOf sosa:Observation ;
    rdfs:label "Weather Observation"@en .

## Procedures

:AQIObservingProcedure a owl:Class ;
    rdfs:subClassOf sosa:Procedure ;
    rdfs:label "AQI Observing Procedure"@en ;
    rdfs:comment "Standard procedure for measuring air quality index"@en .

:WeatherObservingProcedure a owl:Class ;
    rdfs:subClassOf sosa:Procedure ;
    rdfs:label "Weather Observing Procedure"@en .

# ============================================================
# DOMAIN 2: TRAFFIC SENSORS
# ============================================================

## Sensor Classes

:TrafficCamera a owl:Class ;
    rdfs:subClassOf sosa:Sensor ;
    rdfs:label "Traffic Camera"@en ;
    rdfs:label "Camera giao thông"@vi ;
    rdfs:comment "Camera monitoring traffic flow and congestion"@en ;
    ssn:observes :TrafficFlow, :TrafficCongestion .

:TrafficFlowSensor a owl:Class ;
    rdfs:subClassOf sosa:Sensor ;
    rdfs:label "Traffic Flow Sensor"@en ;
    rdfs:comment "Sensor detecting vehicle count and speed"@en .

:TrafficSpeedSensor a owl:Class ;
    rdfs:subClassOf sosa:Sensor ;
    rdfs:label "Traffic Speed Sensor"@en .

## Observable Properties

:TrafficFlow a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Traffic Flow Rate"@en ;
    rdfs:comment "Number of vehicles per time unit"@en .

:TrafficCongestion a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Traffic Congestion Level"@en ;
    rdfs:label "Mức độ kẹt xe"@vi .

:VehicleSpeed a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Vehicle Speed"@en .

:VehicleCount a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Vehicle Count"@en .

## Observation Classes

:TrafficObservation a owl:Class ;
    rdfs:subClassOf sosa:Observation ;
    rdfs:label "Traffic Observation"@en .

:AccidentObservation a owl:Class ;
    rdfs:subClassOf sosa:Observation ;
    rdfs:label "Traffic Accident Observation"@en .

# ============================================================
# DOMAIN 3: PUBLIC SERVICE SENSORS
# ============================================================

## Sensor Classes

:SmartParkingSensor a owl:Class ;
    rdfs:subClassOf sosa:Sensor ;
    rdfs:label "Smart Parking Sensor"@en ;
    rdfs:label "Cảm biến bãi đỗ xe thông minh"@vi ;
    rdfs:comment "Sensor detecting parking spot occupancy"@en ;
    ssn:observes :ParkingOccupancy .

:SmartLightSensor a owl:Class ;
    rdfs:subClassOf sosa:Sensor ;
    rdfs:label "Smart Street Light Sensor"@en ;
    rdfs:label "Cảm biến đèn đường thông minh"@vi ;
    ssn:observes :LightIntensity, :EnergyConsumption .

## Observable Properties

:ParkingOccupancy a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Parking Spot Occupancy"@en ;
    rdfs:comment "Boolean indicating if parking spot is occupied"@en .

:LightIntensity a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Light Intensity"@en ;
    rdfs:comment "Illuminance level in lux"@en .

:EnergyConsumption a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Energy Consumption"@en .

:StreetLightStatus a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Street Light Status"@en .

## Observation Classes

:ParkingObservation a owl:Class ;
    rdfs:subClassOf sosa:Observation ;
    rdfs:label "Parking Observation"@en .

:StreetLightObservation a owl:Class ;
    rdfs:subClassOf sosa:Observation ;
    rdfs:label "Street Light Observation"@en .

# ============================================================
# DOMAIN 4: INFRASTRUCTURE SENSORS
# ============================================================

## Sensor Classes

:WaterFlowSensor a owl:Class ;
    rdfs:subClassOf sosa:Sensor ;
    rdfs:label "Water Flow Sensor"@en ;
    rdfs:label "Cảm biến lưu lượng nước"@vi ;
    rdfs:comment "Sensor in water drainage system"@en .

:DrainageLevelSensor a owl:Class ;
    rdfs:subClassOf sosa:Sensor ;
    rdfs:label "Drainage Water Level Sensor"@en ;
    rdfs:label "Cảm biến mực nước cống"@vi .

:WaterQualitySensor a owl:Class ;
    rdfs:subClassOf sosa:Sensor ;
    rdfs:label "Water Quality Sensor"@en ;
    ssn:observes :WaterQuality, :WaterPH, :WaterTurbidity .

## Observable Properties

:WaterFlowRate a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Water Flow Rate"@en .

:DrainageWaterLevel a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Drainage Water Level"@en .

:WaterQuality a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Water Quality"@en .

:WaterPH a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Water pH Level"@en .

:WaterTurbidity a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Water Turbidity"@en .

## Observation Classes

:WaterQualityObservation a owl:Class ;
    rdfs:subClassOf sosa:Observation ;
    rdfs:label "Water Quality Observation"@en .

:DrainageObservation a owl:Class ;
    rdfs:subClassOf sosa:Observation ;
    rdfs:label "Drainage Observation"@en .

# ============================================================
# DOMAIN 5: CITIZEN AS SENSOR (KEY INNOVATION!)
# ============================================================

## Sensor Classes

:CitizenSensor a owl:Class ;
    rdfs:subClassOf sosa:Sensor ;
    rdfs:label "Citizen Sensor"@en ;
    rdfs:label "Người dân như cảm biến"@vi ;
    rdfs:comment "Human observer acting as sensor through mobile app. Citizens contribute observations about urban conditions."@en ;
    rdfs:seeAlso <https://en.wikipedia.org/wiki/Crowdsourcing> ;
    ssn:implements :CitizenReportingProcedure .

## Observable Properties (What citizens can observe)

:RoadCondition a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Road Condition"@en ;
    rdfs:label "Tình trạng đường"@vi ;
    rdfs:comment "Condition of road surface (damage, potholes, etc.)"@en .

:WasteCondition a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Waste Condition"@en ;
    rdfs:comment "Presence and condition of waste/litter"@en .

:FloodingLevel a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Flooding Level"@en ;
    rdfs:label "Mức độ ngập"@vi ;
    rdfs:comment "Water level during flooding"@en .

:NoiseLevel a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Noise Level"@en .

:StreetLightMalfunction a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Street Light Malfunction"@en .

:PublicSafetyIssue a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:label "Public Safety Issue"@en .

## Observation Classes

:CitizenReport a owl:Class ;
    rdfs:subClassOf sosa:Observation ;
    rdfs:label "Citizen Report as Observation"@en ;
    rdfs:label "Báo cáo của người dân như quan sát"@vi ;
    rdfs:comment "Report from citizen app modeled as SOSA Observation. Each report is an observation made by a CitizenSensor."@en .

## Procedures

:CitizenReportingProcedure a owl:Class ;
    rdfs:subClassOf sosa:Procedure ;
    rdfs:label "Citizen Reporting Procedure"@en ;
    rdfs:comment "Standardized procedure for citizens to submit observations via mobile app"@en ;
    rdfs:seeAlso :CitizenReportingGuidelines .

## Additional Properties for Citizen Reports

:hasCategory a owl:DatatypeProperty ;
    rdfs:domain :CitizenReport ;
    rdfs:range xsd:string ;
    rdfs:label "has category"@en ;
    rdfs:comment "Category of the report: infrastructure, environment, traffic, security, service, other"@en .

:hasSeverity a owl:DatatypeProperty ;
    rdfs:domain :CitizenReport ;
    rdfs:range xsd:string ;
    rdfs:label "has severity"@en ;
    rdfs:comment "Severity level: minor, moderate, major, critical"@en .

:hasStatus a owl:DatatypeProperty ;
    rdfs:domain :CitizenReport ;
    rdfs:range xsd:string ;
    rdfs:label "has status"@en ;
    rdfs:comment "Report status: pending, verified, in_progress, resolved, rejected"@en .

:hasConfidenceScore a owl:DatatypeProperty ;
    rdfs:domain :CitizenReport ;
    rdfs:range xsd:float ;
    rdfs:label "has confidence score"@en ;
    rdfs:comment "AI-calculated confidence score (0-1) for report validity"@en .

:hasMediaEvidence a owl:DatatypeProperty ;
    rdfs:domain :CitizenReport ;
    rdfs:range xsd:anyURI ;
    rdfs:label "has media evidence"@en ;
    rdfs:comment "URL to photo or video evidence"@en .

# ============================================================
# PLATFORMS (Deployment locations)
# ============================================================

:FixedStation a owl:Class ;
    rdfs:subClassOf sosa:Platform ;
    rdfs:label "Fixed Monitoring Station"@en ;
    rdfs:label "Trạm giám sát cố định"@vi ;
    rdfs:comment "Permanent installation for sensors"@en .

:MobileDevice a owl:Class ;
    rdfs:subClassOf sosa:Platform ;
    rdfs:label "Mobile Device (Smartphone)"@en ;
    rdfs:label "Thiết bị di động (điện thoại)"@vi ;
    rdfs:comment "Citizen's smartphone as sensor platform"@en .

:Vehicle a owl:Class ;
    rdfs:subClassOf sosa:Platform ;
    rdfs:label "Vehicle"@en ;
    rdfs:comment "Moving vehicle carrying sensors"@en .

# ============================================================
# FEATURES OF INTEREST (What is being observed)
# ============================================================

:Street a owl:Class ;
    rdfs:subClassOf sosa:FeatureOfInterest ;
    rdfs:label "Street"@en ;
    rdfs:label "Đường phố"@vi .

:District a owl:Class ;
    rdfs:subClassOf sosa:FeatureOfInterest ;
    rdfs:label "District"@en ;
    rdfs:label "Quận"@vi .

:ParkingFacility a owl:Class ;
    rdfs:subClassOf sosa:FeatureOfInterest ;
    rdfs:label "Parking Facility"@en .

:WaterBody a owl:Class ;
    rdfs:subClassOf sosa:FeatureOfInterest ;
    rdfs:label "Water Body"@en ;
    rdfs:comment "River, canal, or drainage channel"@en .

# ============================================================
# OBJECT PROPERTIES (Relationships)
# ============================================================

:locatedIn a owl:ObjectProperty ;
    rdfs:domain sosa:Observation ;
    rdfs:range :District ;
    rdfs:label "located in"@en ;
    rdfs:comment "Observation is located in a district"@en .

:concernsStreet a owl:ObjectProperty ;
    rdfs:domain :CitizenReport ;
    rdfs:range :Street ;
    rdfs:label "concerns street"@en .

:nearFacility a owl:ObjectProperty ;
    rdfs:domain sosa:Observation ;
    rdfs:range sosa:FeatureOfInterest ;
    rdfs:label "near facility"@en .

:reportedByUser a owl:ObjectProperty ;
    rdfs:domain :CitizenReport ;
    rdfs:range foaf:Person ;
    rdfs:label "reported by user"@en .

:verifiedByModerator a owl:ObjectProperty ;
    rdfs:domain :CitizenReport ;
    rdfs:range foaf:Person ;
    rdfs:label "verified by moderator"@en .

# ============================================================
# SENSOR CAPABILITIES
# ============================================================

:PM25MeasurementCapability a owl:Class ;
    rdfs:subClassOf ssn-system:SystemCapability ;
    rdfs:label "PM2.5 Measurement Capability"@en .

:HighPrecisionCapability a owl:Class ;
    rdfs:subClassOf ssn-system:Accuracy ;
    rdfs:label "High Precision Capability"@en .

# ============================================================
# GUIDELINES AND DOCUMENTATION
# ============================================================

:CitizenReportingGuidelines a owl:NamedIndividual ;
    rdfs:label "Citizen Reporting Guidelines"@en ;
    rdfs:comment "Guidelines for citizens on how to submit effective reports"@en ;
    schema:url "http://citylens.io/docs/reporting-guidelines"^^xsd:anyURI .

# ============================================================
# END OF ONTOLOGY
# ============================================================


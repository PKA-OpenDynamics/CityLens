(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[452],{299:function(e,t,s){Promise.resolve().then(s.bind(s,5749))},5749:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return $}});var r=s(7437),a=s(2265),n=s(166),l=s(4869),i=s(5871),o=s(7168),c=s(795),d=s(2048),u=s(2486),m=s(3448),x=s(3774),h=s(875),g=s(2489),p=s(3247),b=s(401);function f(e){let{selectedIds:t,onSelectionChange:s,maxSelection:n=10,className:l}=e,[i,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(""),[b,f]=(0,a.useState)([]),[v,N]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let e=await u.li.getBoundariesListSimple(6);f(e.items)}catch(e){console.error("Error fetching boundaries:",e)}finally{N(!1)}})()},[]);let y=(0,a.useMemo)(()=>{if(!c.trim())return b;let e=c.toLowerCase();return b.filter(t=>t.name.toLowerCase().includes(e)||t.name_en&&t.name_en.toLowerCase().includes(e))},[b,c]),w=(0,a.useMemo)(()=>({phuong:y.filter(e=>e.name.startsWith("Phường")),xa:y.filter(e=>e.name.startsWith("X\xe3"))}),[y]),C=(0,a.useMemo)(()=>b.filter(e=>t.includes(e.id)),[b,t]),k=(0,a.useCallback)(e=>{t.includes(e)?s(t.filter(t=>t!==e)):t.length<n&&s([...t,e])},[t,s,n]),_=(0,a.useCallback)(()=>{s([])},[s]),D=(0,a.useCallback)(e=>{let r=("phuong"===e?w.phuong:w.xa).slice(0,n-t.length).map(e=>e.id);s([...new Set([...t,...r])])},[w,t,n,s]);return(0,r.jsxs)("div",{className:(0,m.cn)("relative",l),children:[(0,r.jsxs)("button",{onClick:()=>o(!i),className:(0,m.cn)("w-full flex items-center justify-between gap-2 px-4 py-2.5 rounded-lg","bg-card border border-border hover:bg-muted transition-colors text-left"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),C.length>0?(0,r.jsx)("span",{className:"truncate text-foreground",children:1===C.length?C[0].name:"".concat(C.length," đơn vị đ\xe3 chọn")}):(0,r.jsx)("span",{className:"text-muted-foreground",children:"Chọn phường/x\xe3..."})]}),(0,r.jsx)(h.Z,{className:(0,m.cn)("w-4 h-4 text-muted-foreground transition-transform",i&&"rotate-180")})]}),C.length>0&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-1.5 mt-2",children:[C.map(e=>(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-accent/10 text-accent rounded-md text-xs",children:[e.name,(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),k(e.id)},className:"hover:text-accent-foreground",children:(0,r.jsx)(g.Z,{className:"w-3 h-3"})})]},e.id)),C.length>1&&(0,r.jsx)("button",{onClick:_,className:"px-2 py-1 text-xs text-muted-foreground hover:text-foreground",children:"X\xf3a tất cả"})]}),i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-[9998]",onClick:()=>o(!1)}),(0,r.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-1 z-[9999] bg-card border border-border rounded-lg shadow-xl max-h-[60vh] overflow-hidden",children:[(0,r.jsx)("div",{className:"p-2 border-b border-border",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(p.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,r.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"T\xecm kiếm phường/x\xe3...",className:"w-full pl-9 pr-4 py-2 bg-muted rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-accent",autoFocus:!0})]})}),(0,r.jsxs)("div",{className:"px-3 py-2 text-xs text-muted-foreground border-b border-border flex justify-between",children:[(0,r.jsxs)("span",{children:[y.length," / ",b.length," đơn vị"]}),(0,r.jsxs)("span",{children:["Đ\xe3 chọn: ",t.length," / ",n]})]}),(0,r.jsx)("div",{className:"overflow-y-auto",style:{maxHeight:"calc(60vh - 100px)"},children:v?(0,r.jsx)("div",{className:"p-4 text-center text-muted-foreground",children:"Đang tải..."}):0===y.length?(0,r.jsx)("div",{className:"p-4 text-center text-muted-foreground",children:"Kh\xf4ng t\xecm thấy"}):(0,r.jsxs)(r.Fragment,{children:[w.phuong.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"sticky top-0 bg-muted px-3 py-1.5 flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-xs font-medium text-muted-foreground",children:["Phường (",w.phuong.length,")"]}),(0,r.jsx)("button",{onClick:()=>D("phuong"),className:"text-xs text-accent hover:underline",children:"Chọn tất cả"})]}),w.phuong.map(e=>(0,r.jsx)(j,{boundary:e,isSelected:t.includes(e.id),onToggle:()=>k(e.id),disabled:!t.includes(e.id)&&t.length>=n},e.id))]}),w.xa.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"sticky top-0 bg-muted px-3 py-1.5 flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-xs font-medium text-muted-foreground",children:["X\xe3 (",w.xa.length,")"]}),(0,r.jsx)("button",{onClick:()=>D("xa"),className:"text-xs text-accent hover:underline",children:"Chọn tất cả"})]}),w.xa.map(e=>(0,r.jsx)(j,{boundary:e,isSelected:t.includes(e.id),onToggle:()=>k(e.id),disabled:!t.includes(e.id)&&t.length>=n},e.id))]})]})})]})]})]})}function j(e){let{boundary:t,isSelected:s,onToggle:a,disabled:n}=e;return(0,r.jsxs)("button",{onClick:a,disabled:n,className:(0,m.cn)("w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-muted transition-colors",s&&"bg-accent/10",n&&"opacity-50 cursor-not-allowed"),children:[(0,r.jsx)("div",{className:(0,m.cn)("w-4 h-4 rounded border flex items-center justify-center flex-shrink-0",s?"bg-accent border-accent":"border-border"),children:s&&(0,r.jsx)(b.Z,{className:"w-3 h-3 text-white"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-foreground truncate",children:t.name}),t.name_en&&(0,r.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:t.name_en})]}),(0,r.jsxs)("span",{className:"text-xs text-muted-foreground flex-shrink-0",children:[t.area_km2.toFixed(1)," km\xb2"]})]})}var v=s(91),N=s(6362),y=s(407),w=s(2735),C=s(2029),k=s(8736),_=s(6865),D=s(8537),S=s(5805),T=s(44),F=s(1217),O=s(8406),Z=s(1341),M=s(6899),E=s(6927),P=s(2973),B=s(9547),q=s(4401),L=s(7662),I=s(476),A=s(1723);function R(e){var t,s,n,l,i,c,g,p,b,f,j,R;let{boundaryId:G,boundaryName:U,boundaryDetails:W}=e,[z,K]=(0,a.useState)(null),[Q,V]=(0,a.useState)(W||null),[X,H]=(0,a.useState)(!1),[J,Y]=(0,a.useState)(null),[$,ee]=(0,a.useState)(null),[et,es]=(0,a.useState)({osm:!0,weather:!0,aqi:!0,traffic:!0}),[er,ea]=(0,a.useState)(!1);(0,a.useEffect)(()=>{W&&V(W)},[W]);let en=(0,a.useCallback)(async()=>{if(G){H(!0),Y(null);try{let e=[u.li.getUrbanData(G)];W||e.push(u.li.getBoundaryDetails(G,!1));let t=await Promise.all(e);K(t[0]),W||V(t[1]),ee(new Date)}catch(e){console.error("Error fetching data:",e),Y("Kh\xf4ng thể tải dữ liệu")}finally{H(!1)}}},[G,W]);(0,a.useEffect)(()=>{en()},[en]);let el=e=>{es(t=>({...t,[e]:!t[e]}))},ei=e=>e<=50?{label:"Tốt",color:"text-green-600",bgColor:"bg-green-500"}:e<=100?{label:"Trung b\xecnh",color:"text-yellow-600",bgColor:"bg-yellow-500"}:e<=150?{label:"K\xe9m",color:"text-orange-600",bgColor:"bg-orange-500"}:e<=200?{label:"Xấu",color:"text-red-600",bgColor:"bg-red-500"}:e<=300?{label:"Rất xấu",color:"text-purple-600",bgColor:"bg-purple-500"}:{label:"Nguy hại",color:"text-rose-700",bgColor:"bg-rose-700"},eo=e=>e<20?{label:"Th\xf4ng tho\xe1ng",color:"text-green-600",bgColor:"bg-green-500"}:e<40?{label:"B\xecnh thường",color:"text-emerald-600",bgColor:"bg-emerald-500"}:e<60?{label:"Đ\xf4ng đ\xfac",color:"text-yellow-600",bgColor:"bg-yellow-500"}:e<80?{label:"\xd9n tắc",color:"text-orange-600",bgColor:"bg-orange-500"}:{label:"Tắc nghẽn",color:"text-red-600",bgColor:"bg-red-500"},ec=e=>null==e?"--":e.toLocaleString("vi-VN"),ed=e=>({amenity:"Tiện \xedch",shop:"Cửa h\xe0ng",tourism:"Du lịch",leisure:"Giải tr\xed",healthcare:"Y tế",education:"Gi\xe1o dục",finance:"T\xe0i ch\xednh",food:"Ẩm thực",government:"Cơ quan",religion:"T\xf4n gi\xe1o",transport:"Giao th\xf4ng",office:"Văn ph\xf2ng",building:"C\xf4ng tr\xecnh",other:"Kh\xe1c"})[e]||e,eu=e=>({primary:"Đường ch\xednh",secondary:"Đường phụ",tertiary:"Đường nh\xe1nh",residential:"Khu d\xe2n cư",service:"Đường dịch vụ",footway:"Đường đi bộ",path:"Đường m\xf2n",cycleway:"Đường xe đạp",unclassified:"Chưa ph\xe2n loại",living_street:"Phố đi bộ",pedestrian:"Khu đi bộ",track:"Đường đất",trunk:"Đường cao tốc",motorway:"Xa lộ"})[e]||e,em=null==Q?void 0:Q.boundary,ex=null==Q?void 0:Q.statistics;if(!G)return(0,r.jsxs)("div",{className:"bg-card rounded-lg border border-border p-6 text-center",children:[(0,r.jsx)(x.Z,{className:"w-10 h-10 text-muted-foreground mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm",children:"Chọn một khu vực để xem dữ liệu"})]});let eh=e=>{let{section:t,icon:s,title:a,source:n,sourceUrl:l,status:i}=e;return(0,r.jsxs)("button",{onClick:()=>el(t),className:"w-full flex items-center justify-between p-2.5 bg-accent/5 hover:bg-accent/10 rounded-t-lg transition-colors group",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:(0,m.cn)("p-1.5 rounded-md","osm"===t&&"bg-blue-500/20 text-blue-600","weather"===t&&"bg-sky-500/20 text-sky-600","aqi"===t&&"bg-emerald-500/20 text-emerald-600","traffic"===t&&"bg-orange-500/20 text-orange-600"),children:(0,r.jsx)(s,{className:"w-4 h-4"})}),(0,r.jsxs)("div",{className:"text-left",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-foreground",children:a}),(0,r.jsxs)("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[(0,r.jsx)(v.Z,{className:"w-2.5 h-2.5"}),(0,r.jsx)("span",{children:n}),l&&(0,r.jsx)("a",{href:l,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"opacity-0 group-hover:opacity-100 transition-opacity",children:(0,r.jsx)(N.Z,{className:"w-2.5 h-2.5"})})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[i&&(0,r.jsx)("span",{className:(0,m.cn)("px-2 py-0.5 rounded-full text-[10px] font-medium text-white",i.bgColor),children:i.label}),et[t]?(0,r.jsx)(h.Z,{className:"w-4 h-4 text-muted-foreground"}):(0,r.jsx)(y.Z,{className:"w-4 h-4 text-muted-foreground"})]})]})},eg=e=>{let{icon:t,label:s,value:a,unit:n}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between py-1.5 px-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[t&&(0,r.jsx)(t,{className:"w-3.5 h-3.5"}),(0,r.jsx)("span",{className:"text-xs",children:s})]}),(0,r.jsxs)("span",{className:"text-xs font-medium text-foreground",children:[null!=a?a:"--",n&&(0,r.jsx)("span",{className:"text-muted-foreground ml-0.5",children:n})]})]})};return(0,r.jsxs)("div",{className:"bg-card rounded-lg border border-border overflow-hidden h-full flex flex-col",children:[(0,r.jsxs)("div",{className:"bg-accent/10 border-b border-border px-3 py-2 flex items-center justify-between flex-shrink-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 text-accent flex-shrink-0"}),(0,r.jsx)("span",{className:"text-sm font-semibold text-foreground truncate",children:U||(null==em?void 0:em.name)||"Đang tải..."})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("button",{onClick:en,disabled:X,className:"p-1.5 hover:bg-accent/20 rounded transition-colors",title:"L\xe0m mới dữ liệu",children:(0,r.jsx)(o.Z,{className:(0,m.cn)("w-4 h-4 text-muted-foreground",X&&"animate-spin")})}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:()=>ea(!er),className:"p-1.5 hover:bg-accent/20 rounded transition-colors",title:"Xuất dữ liệu",children:(0,r.jsx)(w.Z,{className:"w-4 h-4 text-muted-foreground"})}),er&&(0,r.jsxs)("div",{className:"absolute right-0 top-full mt-1 bg-popover border border-border rounded-lg shadow-lg z-50 py-1 min-w-[140px]",children:[(0,r.jsxs)("button",{onClick:()=>{var e,t,s,r,a,n;if(!z&&!Q)return;let l=U||(null==Q?void 0:Q.boundary.name)||"boundary",i=[["Nguồn","Chỉ số","Gi\xe1 trị","Đơn vị"]];if(Q){let e=Q.statistics;i.push(["OSM","T\xean khu vực",Q.boundary.name,""]),i.push(["OSM","Loại",6===Q.boundary.admin_level?"Quận/Huyện":"Phường/X\xe3",""]),i.push(["OSM","Diện t\xedch",(Q.boundary.area_km2||0).toFixed(2),"km\xb2"]),i.push(["OSM","Số POI",String(e.pois.total||0),""]),i.push(["OSM","Số đường",String(e.streets.total||0),""]),i.push(["OSM","Số t\xf2a nh\xe0",String(e.buildings.total||0),""])}(null==z?void 0:z.weather)&&(i.push(["OpenWeather","Nhiệt độ",String((null===(e=z.weather.temperature)||void 0===e?void 0:e.toFixed(1))||"--"),"\xb0C"]),i.push(["OpenWeather","Cảm gi\xe1c như",String((null===(t=z.weather.feels_like)||void 0===t?void 0:t.toFixed(1))||"--"),"\xb0C"]),i.push(["OpenWeather","Độ ẩm",String(z.weather.humidity||"--"),"%"]),i.push(["OpenWeather","Tốc độ gi\xf3",String((null===(s=z.weather.wind_speed)||void 0===s?void 0:s.toFixed(1))||"--"),"m/s"])),(null==z?void 0:z.air_quality)&&(i.push(["AQICN","Chỉ số AQI",String(z.air_quality.aqi||"--"),""]),i.push(["AQICN","PM2.5",String((null===(r=z.air_quality.pm25)||void 0===r?void 0:r.toFixed(1))||"--"),"\xb5g/m\xb3"]),i.push(["AQICN","PM10",String((null===(a=z.air_quality.pm10)||void 0===a?void 0:a.toFixed(1))||"--"),"\xb5g/m\xb3"])),(null==z?void 0:z.traffic)&&(i.push(["TomTom","Tốc độ hiện tại",String(z.traffic.current_speed||"--"),"km/h"]),i.push(["TomTom","Tốc độ th\xf4ng thường",String(z.traffic.free_flow_speed||"--"),"km/h"]),i.push(["TomTom","Mức độ \xf9n tắc",String((null===(n=z.traffic.congestion_percent)||void 0===n?void 0:n.toFixed(0))||"--"),"%"]));let o=new Blob(["\uFEFF"+i.map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),c=URL.createObjectURL(o),d=document.createElement("a");d.href=c,d.download="citylens_".concat(l.replace(/\s+/g,"_"),"_").concat(new Date().toISOString().slice(0,10),".csv"),d.click(),URL.revokeObjectURL(c),ea(!1)},className:"w-full px-3 py-2 text-left text-sm hover:bg-accent/20 flex items-center gap-2",children:[(0,r.jsx)(C.Z,{className:"w-4 h-4 text-green-600"}),"Xuất CSV"]}),(0,r.jsxs)("button",{onClick:()=>{if(!z&&!Q)return;let e=U||(null==Q?void 0:Q.boundary.name)||"boundary",t=new Blob([JSON.stringify({metadata:{boundary_name:e,exported_at:new Date().toISOString(),data_sources:["OSM","OpenWeather","AQICN","TomTom"]},osm:Q?{name:Q.boundary.name,osm_id:Q.boundary.osm_id,admin_level:Q.boundary.admin_level,area_km2:Q.boundary.area_km2,statistics:Q.statistics}:null,openweather:(null==z?void 0:z.weather)||null,aqicn:(null==z?void 0:z.air_quality)||null,tomtom:(null==z?void 0:z.traffic)||null},null,2)],{type:"application/json"}),s=URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download="citylens_".concat(e.replace(/\s+/g,"_"),"_").concat(new Date().toISOString().slice(0,10),".json"),r.click(),URL.revokeObjectURL(s),ea(!1)},className:"w-full px-3 py-2 text-left text-sm hover:bg-accent/20 flex items-center gap-2",children:[(0,r.jsx)(k.Z,{className:"w-4 h-4 text-blue-600"}),"Xuất JSON"]})]})]})]})]}),(0,r.jsxs)("div",{className:"px-3 py-2 border-b border-border flex items-center justify-between bg-muted/30",children:[(0,r.jsx)("span",{className:"text-[10px] text-muted-foreground",children:$?"Cập nhật: ".concat($.toLocaleTimeString("vi-VN")):"Đang tải..."}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("button",{onClick:()=>es({osm:!0,weather:!0,aqi:!0,traffic:!0}),className:"px-2 py-0.5 text-[10px] text-muted-foreground hover:text-foreground hover:bg-accent/20 rounded",children:"Mở tất cả"}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"|"}),(0,r.jsx)("button",{onClick:()=>es({osm:!1,weather:!1,aqi:!1,traffic:!1}),className:"px-2 py-0.5 text-[10px] text-muted-foreground hover:text-foreground hover:bg-accent/20 rounded",children:"Thu gọn"})]})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:[J&&(0,r.jsxs)("div",{className:"p-3 bg-destructive/10 border border-destructive/30 rounded-lg text-center",children:[(0,r.jsx)(_.Z,{className:"w-5 h-5 text-destructive mx-auto mb-1"}),(0,r.jsx)("p",{className:"text-xs text-destructive",children:J}),(0,r.jsx)("button",{onClick:en,className:"text-xs text-accent underline mt-1",children:"Thử lại"})]}),X&&!z&&!Q&&(0,r.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,r.jsx)(o.Z,{className:"w-6 h-6 text-accent animate-spin"})}),(0,r.jsxs)("div",{className:"border border-blue-500/30 rounded-lg overflow-hidden",children:[(0,r.jsx)(eh,{section:"osm",icon:d.Z,title:"Dữ liệu địa l\xfd",source:"OpenStreetMap",sourceUrl:"https://www.openstreetmap.org/"}),et.osm&&(0,r.jsxs)("div",{className:"border-t border-blue-500/20 bg-blue-500/5",children:[(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-px bg-blue-500/20 p-px",children:[(0,r.jsxs)("div",{className:"bg-card p-2 text-center",children:[(0,r.jsx)(D.Z,{className:"w-3.5 h-3.5 mx-auto mb-0.5 text-blue-600"}),(0,r.jsx)("p",{className:"text-sm font-bold text-foreground",children:(null==em?void 0:null===(t=em.area_km2)||void 0===t?void 0:t.toFixed(2))||"--"}),(0,r.jsx)("p",{className:"text-[9px] text-muted-foreground",children:"km\xb2"})]}),(0,r.jsxs)("div",{className:"bg-card p-2 text-center",children:[(0,r.jsx)(S.Z,{className:"w-3.5 h-3.5 mx-auto mb-0.5 text-blue-600"}),(0,r.jsx)("p",{className:"text-sm font-bold text-foreground",children:(null==em?void 0:em.population)?em.population.toLocaleString("vi-VN"):"—"}),(0,r.jsx)("p",{className:"text-[9px] text-muted-foreground",children:"D\xe2n số"})]}),(0,r.jsxs)("div",{className:"bg-card p-2 text-center",children:[(0,r.jsx)(x.Z,{className:"w-3.5 h-3.5 mx-auto mb-0.5 text-blue-600"}),(0,r.jsx)("p",{className:"text-sm font-bold text-foreground",children:ec(null==ex?void 0:ex.pois.total)}),(0,r.jsx)("p",{className:"text-[9px] text-muted-foreground",children:"Địa điểm"})]})]}),(null==em?void 0:em.area_km2)&&ex&&(0,r.jsxs)("div",{className:"p-2 border-t border-blue-500/10",children:[(0,r.jsx)("p",{className:"text-[10px] font-medium text-muted-foreground mb-1.5",children:"Mật độ ph\xe2n bố"}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-1.5",children:[(0,r.jsxs)("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-1.5 rounded text-center",children:[(0,r.jsx)("p",{className:"text-xs font-bold text-blue-700 dark:text-blue-400",children:(ex.pois.total/em.area_km2).toFixed(1)}),(0,r.jsx)("p",{className:"text-[8px] text-blue-600 dark:text-blue-500",children:"POI/km\xb2"})]}),(0,r.jsxs)("div",{className:"bg-green-100 dark:bg-green-900/30 p-1.5 rounded text-center",children:[(0,r.jsx)("p",{className:"text-xs font-bold text-green-700 dark:text-green-400",children:(ex.streets.total/em.area_km2).toFixed(0)}),(0,r.jsx)("p",{className:"text-[8px] text-green-600 dark:text-green-500",children:"Đường/km\xb2"})]}),(0,r.jsxs)("div",{className:"bg-amber-100 dark:bg-amber-900/30 p-1.5 rounded text-center",children:[(0,r.jsx)("p",{className:"text-xs font-bold text-amber-700 dark:text-amber-400",children:(ex.buildings.total/em.area_km2).toFixed(0)}),(0,r.jsx)("p",{className:"text-[8px] text-amber-600 dark:text-amber-500",children:"CT/km\xb2"})]})]})]}),(0,r.jsxs)("div",{className:"divide-y divide-blue-500/10",children:[(0,r.jsx)(eg,{icon:T.Z,label:"Tổng số t\xf2a nh\xe0",value:ec(null==ex?void 0:ex.buildings.total)}),(0,r.jsx)(eg,{icon:F.Z,label:"T\xf2a nh\xe0 c\xf3 t\xean",value:ec(null==ex?void 0:ex.buildings.named)}),(0,r.jsx)(eg,{icon:O.Z,label:"Tổng số đường",value:ec(null==ex?void 0:ex.streets.total)}),(0,r.jsx)(eg,{icon:F.Z,label:"Đường c\xf3 t\xean",value:ec(null==ex?void 0:ex.streets.named)}),(0,r.jsx)(eg,{icon:x.Z,label:"Loại POI kh\xe1c nhau",value:null==ex?void 0:ex.pois.category_types,unit:"loại"})]}),(null==ex?void 0:ex.pois.by_category)&&Object.keys(ex.pois.by_category).length>0&&(0,r.jsxs)("div",{className:"p-2 border-t border-blue-500/10",children:[(0,r.jsx)("p",{className:"text-[10px] font-medium text-muted-foreground mb-1.5",children:"Ph\xe2n loại địa điểm (POI)"}),(0,r.jsx)("div",{className:"space-y-1",children:Object.entries(ex.pois.by_category).sort((e,t)=>{let[,s]=e,[,r]=t;return r-s}).slice(0,6).map(e=>{let[t,s]=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-muted-foreground capitalize",children:ed(t)}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("div",{className:"w-16 h-1.5 bg-muted rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"".concat(Math.min(s/ex.pois.total*100,100),"%")}})}),(0,r.jsx)("span",{className:"font-medium w-8 text-right",children:s})]})]},t)})})]}),(null==ex?void 0:ex.streets.by_highway_type)&&Object.keys(ex.streets.by_highway_type).length>0&&(0,r.jsxs)("div",{className:"p-2 border-t border-blue-500/10",children:[(0,r.jsx)("p",{className:"text-[10px] font-medium text-muted-foreground mb-1.5",children:"Loại đường"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:Object.entries(ex.streets.by_highway_type).sort((e,t)=>{let[,s]=e,[,r]=t;return r-s}).slice(0,5).map(e=>{let[t,s]=e;return(0,r.jsxs)("span",{className:"px-1.5 py-0.5 bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300 rounded text-[9px]",children:[eu(t),": ",s]},t)})})]})]})]}),(0,r.jsxs)("div",{className:"border border-sky-500/30 rounded-lg overflow-hidden",children:[(0,r.jsx)(eh,{section:"weather",icon:Z.Z,title:"Thời tiết",source:"OpenWeatherMap",sourceUrl:"https://openweathermap.org/",status:(null==z?void 0:z.weather)?{label:"".concat(null===(s=z.weather.temperature)||void 0===s?void 0:s.toFixed(0),"\xb0C"),color:"text-sky-600",bgColor:"bg-sky-500"}:null}),et.weather&&(0,r.jsx)("div",{className:"border-t border-sky-500/20 bg-sky-500/5 divide-y divide-sky-500/10",children:(null==z?void 0:z.weather)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eg,{icon:M.Z,label:"Nhiệt độ",value:null===(n=z.weather.temperature)||void 0===n?void 0:n.toFixed(1),unit:"\xb0C"}),(0,r.jsx)(eg,{icon:M.Z,label:"Cảm gi\xe1c như",value:null===(l=z.weather.feels_like)||void 0===l?void 0:l.toFixed(1),unit:"\xb0C"}),(0,r.jsx)(eg,{icon:E.Z,label:"Độ ẩm",value:z.weather.humidity,unit:"%"}),(0,r.jsx)(eg,{icon:P.Z,label:"Tốc độ gi\xf3",value:null===(i=z.weather.wind_speed)||void 0===i?void 0:i.toFixed(1),unit:"m/s"}),(0,r.jsx)(eg,{icon:Z.Z,label:"M\xe2y che phủ",value:z.weather.clouds,unit:"%"})]}):(0,r.jsx)("div",{className:"p-3 text-center text-xs text-muted-foreground",children:X?"Đang tải...":"Kh\xf4ng c\xf3 dữ liệu"})})]}),(0,r.jsxs)("div",{className:"border border-emerald-500/30 rounded-lg overflow-hidden",children:[(0,r.jsx)(eh,{section:"aqi",icon:B.Z,title:"Chất lượng kh\xf4ng kh\xed",source:"AQICN / WAQI",sourceUrl:"https://aqicn.org/",status:(null==z?void 0:z.air_quality)?ei(z.air_quality.aqi):null}),et.aqi&&(0,r.jsx)("div",{className:"border-t border-emerald-500/20 bg-emerald-500/5 divide-y divide-emerald-500/10",children:(null==z?void 0:z.air_quality)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"p-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:"Chỉ số AQI"}),(0,r.jsx)("span",{className:(0,m.cn)("text-lg font-bold",ei(z.air_quality.aqi).color),children:z.air_quality.aqi})]}),(0,r.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:(0,m.cn)("h-full rounded-full transition-all",ei(z.air_quality.aqi).bgColor),style:{width:"".concat(Math.min(z.air_quality.aqi/3,100),"%")}})}),(0,r.jsxs)("div",{className:"flex justify-between text-[9px] text-muted-foreground mt-1",children:[(0,r.jsx)("span",{children:"0 Tốt"}),(0,r.jsx)("span",{children:"100 TB"}),(0,r.jsx)("span",{children:"200 Xấu"}),(0,r.jsx)("span",{children:"300+"})]})]}),(0,r.jsx)(eg,{icon:q.Z,label:"PM2.5",value:null===(c=z.air_quality.pm25)||void 0===c?void 0:c.toFixed(1),unit:"\xb5g/m\xb3"}),(0,r.jsx)(eg,{icon:q.Z,label:"PM10",value:null===(g=z.air_quality.pm10)||void 0===g?void 0:g.toFixed(1),unit:"\xb5g/m\xb3"}),(0,r.jsx)(eg,{icon:q.Z,label:"O₃ (Ozone)",value:null===(p=z.air_quality.o3)||void 0===p?void 0:p.toFixed(1),unit:"\xb5g/m\xb3"}),(0,r.jsx)(eg,{icon:q.Z,label:"NO₂",value:null===(b=z.air_quality.no2)||void 0===b?void 0:b.toFixed(1),unit:"\xb5g/m\xb3"}),(0,r.jsx)(eg,{icon:q.Z,label:"SO₂",value:null===(f=z.air_quality.so2)||void 0===f?void 0:f.toFixed(1),unit:"\xb5g/m\xb3"}),(0,r.jsx)(eg,{icon:q.Z,label:"CO",value:null===(j=z.air_quality.co)||void 0===j?void 0:j.toFixed(1),unit:"\xb5g/m\xb3"})]}):(0,r.jsx)("div",{className:"p-3 text-center text-xs text-muted-foreground",children:X?"Đang tải...":"Kh\xf4ng c\xf3 dữ liệu"})})]}),(0,r.jsxs)("div",{className:"border border-orange-500/30 rounded-lg overflow-hidden",children:[(0,r.jsx)(eh,{section:"traffic",icon:L.Z,title:"Giao th\xf4ng",source:"TomTom Traffic",sourceUrl:"https://www.tomtom.com/traffic-index/",status:(null==z?void 0:z.traffic)?eo(z.traffic.congestion_percent||0):null}),et.traffic&&(0,r.jsx)("div",{className:"border-t border-orange-500/20 bg-orange-500/5 divide-y divide-orange-500/10",children:(null==z?void 0:z.traffic)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"p-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:"Mức độ \xf9n tắc"}),(0,r.jsxs)("span",{className:(0,m.cn)("text-lg font-bold",eo(z.traffic.congestion_percent||0).color),children:[null===(R=z.traffic.congestion_percent)||void 0===R?void 0:R.toFixed(0),"%"]})]}),(0,r.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:(0,m.cn)("h-full rounded-full transition-all",eo(z.traffic.congestion_percent||0).bgColor),style:{width:"".concat(Math.min(z.traffic.congestion_percent||0,100),"%")}})}),(0,r.jsxs)("div",{className:"flex justify-between text-[9px] text-muted-foreground mt-1",children:[(0,r.jsx)("span",{children:"Th\xf4ng tho\xe1ng"}),(0,r.jsx)("span",{children:"Đ\xf4ng đ\xfac"}),(0,r.jsx)("span",{children:"Tắc nghẽn"})]})]}),(0,r.jsx)(eg,{icon:I.Z,label:"Tốc độ hiện tại",value:z.traffic.current_speed,unit:"km/h"}),(0,r.jsx)(eg,{icon:I.Z,label:"Tốc độ th\xf4ng thường",value:z.traffic.free_flow_speed,unit:"km/h"}),z.traffic.travel_time&&(0,r.jsx)(eg,{icon:A.Z,label:"Thời gian di chuyển",value:z.traffic.travel_time,unit:"gi\xe2y"}),(0,r.jsxs)("div",{className:"p-2 bg-orange-500/10",children:[(0,r.jsx)("div",{className:"text-[10px] text-muted-foreground mb-1",children:"Ch\xfa th\xedch m\xe0u đường tr\xean bản đồ:"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-1 text-[9px]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"w-3 h-1 rounded bg-green-500"}),(0,r.jsx)("span",{children:"Th\xf4ng tho\xe1ng"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"w-3 h-1 rounded bg-yellow-500"}),(0,r.jsx)("span",{children:"Chậm"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"w-3 h-1 rounded bg-orange-500"}),(0,r.jsx)("span",{children:"Đ\xf4ng đ\xfac"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"w-3 h-1 rounded bg-red-600"}),(0,r.jsx)("span",{children:"\xd9n tắc"})]})]})]})]}):(0,r.jsx)("div",{className:"p-3 text-center text-xs text-muted-foreground",children:X?"Đang tải...":"Kh\xf4ng c\xf3 dữ liệu"})})]}),(0,r.jsxs)("div",{className:"mt-3 p-2.5 bg-muted/30 rounded-lg border border-border/50",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(v.Z,{className:"w-3.5 h-3.5 text-accent"}),(0,r.jsx)("span",{className:"text-[10px] font-medium text-foreground",children:"Nguồn dữ liệu LOD"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-[9px]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"OSM - Địa l\xfd"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full bg-sky-500"}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"OpenWeather - Thời tiết"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"AQICN - Kh\xf4ng kh\xed"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"TomTom - Giao th\xf4ng"})]})]})]})]})]})}let G=(0,n.default)(()=>Promise.all([s.e(212),s.e(305)]).then(s.bind(s,9305)).then(e=>e.MapContainer),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),U=(0,n.default)(()=>Promise.all([s.e(212),s.e(305)]).then(s.bind(s,9305)).then(e=>e.TileLayer),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),W=(0,n.default)(()=>Promise.all([s.e(212),s.e(305)]).then(s.bind(s,9305)).then(e=>e.GeoJSON),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),z=(0,n.default)(()=>Promise.all([s.e(212),s.e(305)]).then(s.bind(s,9305)).then(e=>e.Popup),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),K=(0,n.default)(()=>Promise.all([s.e(212),s.e(305)]).then(s.bind(s,9305)).then(e=>e.CircleMarker),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),Q=(0,n.default)(()=>Promise.all([s.e(212),s.e(305)]).then(s.bind(s,9305)).then(e=>{let{useMap:t}=e,{useEffect:r}=s(2265);return{default:function(e){let{bounds:s}=e,a=t();return r(()=>{s&&a.fitBounds(s,{padding:[50,50],maxZoom:16,animate:!0,duration:.5})},[a,s]),null}}}),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),V=[21.028511,105.804817],X={satellite:{name:"Vệ tinh",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"&copy; Esri, Maxar, Earthstar Geographics"},osm:{name:"Bản đồ",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'},hybrid:{name:"Hybrid",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"&copy; Esri"}},H={url:"https://api.tomtom.com/traffic/map/4/tile/flow/relative0/{z}/{x}/{y}.png?key=".concat("swPEVEaK8ok6jx62o7Uj9YTOZfD1B8SR"),attribution:"&copy; TomTom Traffic"},J={hospital:{color:"#dc2626",name:"Bệnh viện",emoji:"\uD83C\uDFE5",priority:1},clinic:{color:"#ef4444",name:"Ph\xf2ng kh\xe1m",emoji:"\uD83C\uDFE5",priority:2},pharmacy:{color:"#f87171",name:"Nh\xe0 thuốc",emoji:"\uD83D\uDC8A",priority:3},doctors:{color:"#ef4444",name:"Ph\xf2ng kh\xe1m",emoji:"\uD83D\uDC68‍⚕️",priority:2},dentist:{color:"#ef4444",name:"Nha khoa",emoji:"\uD83E\uDDB7",priority:3},school:{color:"#4f46e5",name:"Trường học",emoji:"\uD83C\uDFEB",priority:1},kindergarten:{color:"#6366f1",name:"Mầm non",emoji:"\uD83D\uDC76",priority:2},university:{color:"#4338ca",name:"Đại học",emoji:"\uD83C\uDF93",priority:1},college:{color:"#4f46e5",name:"Cao đẳng",emoji:"\uD83C\uDF93",priority:2},library:{color:"#6366f1",name:"Thư viện",emoji:"\uD83D\uDCDA",priority:3},bank:{color:"#059669",name:"Ng\xe2n h\xe0ng",emoji:"\uD83C\uDFE6",priority:1},atm:{color:"#10b981",name:"C\xe2y ATM",emoji:"\uD83D\uDCB3",priority:3},supermarket:{color:"#ea580c",name:"Si\xeau thị",emoji:"\uD83D\uDED2",priority:1},marketplace:{color:"#f97316",name:"Chợ",emoji:"\uD83C\uDFEA",priority:1},mall:{color:"#ea580c",name:"TTTM",emoji:"\uD83C\uDFEC",priority:1},convenience:{color:"#fb923c",name:"Tiện lợi",emoji:"\uD83C\uDFEA",priority:3},department_store:{color:"#f97316",name:"B\xe1ch h\xf3a",emoji:"\uD83C\uDFEC",priority:2},restaurant:{color:"#d97706",name:"Nh\xe0 h\xe0ng",emoji:"\uD83C\uDF7D️",priority:2},cafe:{color:"#f59e0b",name:"C\xe0 ph\xea",emoji:"☕",priority:3},fast_food:{color:"#fbbf24",name:"Ăn nhanh",emoji:"\uD83C\uDF54",priority:3},bar:{color:"#d97706",name:"Bar",emoji:"\uD83C\uDF7A",priority:4},police:{color:"#475569",name:"C\xf4ng an",emoji:"\uD83D\uDC6E",priority:1},fire_station:{color:"#dc2626",name:"Cứu hỏa",emoji:"\uD83D\uDE92",priority:1},post_office:{color:"#64748b",name:"Bưu điện",emoji:"\uD83D\uDCEE",priority:2},townhall:{color:"#475569",name:"UBND",emoji:"\uD83C\uDFDB️",priority:1},fuel:{color:"#0891b2",name:"Trạm xăng",emoji:"⛽",priority:2},parking:{color:"#06b6d4",name:"B\xe3i đỗ xe",emoji:"\uD83C\uDD7F️",priority:3},bus_station:{color:"#0891b2",name:"Bến xe",emoji:"\uD83D\uDE8C",priority:2},charging_station:{color:"#22d3ee",name:"Trạm sạc",emoji:"\uD83D\uDD0C",priority:3},place_of_worship:{color:"#ca8a04",name:"T\xf4n gi\xe1o",emoji:"⛪",priority:3},hotel:{color:"#7c3aed",name:"Kh\xe1ch sạn",emoji:"\uD83C\uDFE8",priority:2},museum:{color:"#8b5cf6",name:"Bảo t\xe0ng",emoji:"\uD83C\uDFDB️",priority:2},attraction:{color:"#a78bfa",name:"Điểm tham quan",emoji:"\uD83D\uDCF8",priority:2},park:{color:"#16a34a",name:"C\xf4ng vi\xean",emoji:"\uD83C\uDF33",priority:2},sports_centre:{color:"#22c55e",name:"Thể thao",emoji:"\uD83C\uDFC3",priority:3},cinema:{color:"#84cc16",name:"Rạp phim",emoji:"\uD83C\uDFAC",priority:3},default:{color:"#6b7280",name:"Địa điểm",emoji:"\uD83D\uDCCD",priority:5}},Y={hospital:"Bệnh viện",clinic:"Ph\xf2ng kh\xe1m",pharmacy:"Nh\xe0 thuốc",doctors:"Ph\xf2ng kh\xe1m b\xe1c sĩ",dentist:"Nha khoa",school:"Trường học",kindergarten:"Trường mầm non",university:"Đại học",college:"Cao đẳng",library:"Thư viện",bank:"Ng\xe2n h\xe0ng",atm:"C\xe2y ATM",supermarket:"Si\xeau thị",marketplace:"Chợ",mall:"Trung t\xe2m thương mại",convenience:"Cửa h\xe0ng tiện lợi",department_store:"Cửa h\xe0ng b\xe1ch h\xf3a",restaurant:"Nh\xe0 h\xe0ng",cafe:"Qu\xe1n c\xe0 ph\xea",fast_food:"Đồ ăn nhanh",bar:"Qu\xe1n bar",police:"C\xf4ng an",fire_station:"Trạm cứu hỏa",post_office:"Bưu điện",townhall:"UBND",fuel:"Trạm xăng",parking:"B\xe3i đỗ xe",bus_station:"Bến xe bu\xfdt",charging_station:"Trạm sạc điện",place_of_worship:"Nơi thờ c\xfang",hotel:"Kh\xe1ch sạn",museum:"Bảo t\xe0ng",attraction:"Điểm tham quan",park:"C\xf4ng vi\xean",sports_centre:"Trung t\xe2m thể thao",cinema:"Rạp chiếu phim",clothes:"Quần \xe1o",mobile_phone:"Điện thoại",electronics:"Điện tử",furniture:"Nội thất",bakery:"Tiệm b\xe1nh",hairdresser:"L\xe0m t\xf3c",beauty:"Mỹ phẩm"};function $(){var e,t,s,n,x,h;let[g,p]=(0,a.useState)(!0),[b,j]=(0,a.useState)(!1),[v,N]=(0,a.useState)(!1),[y,w]=(0,a.useState)(null),[C,k]=(0,a.useState)(null),[_,D]=(0,a.useState)(null),[S,T]=(0,a.useState)(null),[F,O]=(0,a.useState)([]),[Z,M]=(0,a.useState)(null),[E,P]=(0,a.useState)(null),[B,q]=(0,a.useState)(!0),[L,I]=(0,a.useState)(V),[A,$]=(0,a.useState)(11),[ee,et]=(0,a.useState)(null),[es,er]=(0,a.useState)("satellite"),[ea,en]=(0,a.useState)({boundaries:!0,districts:!0,pois:!0,traffic:!1}),el=(0,a.useRef)(null);(0,a.useEffect)(()=>{N(!0)},[]);let ei=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?j(!0):p(!0);try{let[e,t,s]=await Promise.allSettled([u.xW.getStatistics(),u.li.getHanoiUnionBoundary({simplify_tolerance:5e-4}),u.li.getBoundariesGeoJSON({admin_level:6})]);if("fulfilled"===e.status&&w(e.value),"fulfilled"===t.status){let e=t.value;k({type:"FeatureCollection",features:[e]}),D({num_wards:e.properties.num_wards,area_km2:e.properties.area_km2})}"fulfilled"===s.status&&T(s.value)}catch(e){console.error("Error fetching geographic data:",e)}p(!1),j(!1)};(0,a.useEffect)(()=>{ei()},[]),(0,a.useEffect)(()=>{F.length>0?M(F[F.length-1]):(M(null),P(null))},[F]),(0,a.useEffect)(()=>{if(!Z){P(null);return}(async()=>{try{let e=await u.li.getBoundaryDetails(Z,!0);if(P(e),e.boundary.geometry){let t=e.boundary.geometry,s=null;if("Polygon"===t.type){let e=t.coordinates[0],r=1/0,a=-1/0,n=1/0,l=-1/0;e.forEach(e=>{let[t,s]=e;r=Math.min(r,s),a=Math.max(a,s),n=Math.min(n,t),l=Math.max(l,t)}),s=[[r,n],[a,l]]}else if("MultiPolygon"===t.type){let e=1/0,r=-1/0,a=1/0,n=-1/0;t.coordinates.forEach(t=>{t[0].forEach(t=>{let[s,l]=t;e=Math.min(e,l),r=Math.max(r,l),a=Math.min(a,s),n=Math.max(n,s)})}),s=[[e,a],[r,n]]}s&&et(s)}else I([e.boundary.center.lat,e.boundary.center.lng]),$(14)}catch(e){console.error("Error fetching boundary details:",e)}})()},[Z]);let eo=(0,a.useMemo)(()=>({color:"#dc2626",weight:3,opacity:1,fillColor:"#dc2626",fillOpacity:.02}),[]),ec=(0,a.useCallback)(e=>{let t=F.includes(e.id);return e.id===Z?{color:"#16a34a",weight:4,opacity:1,fillColor:"#22c55e",fillOpacity:.35}:t?{color:"#f59e0b",weight:3,opacity:1,fillColor:"#fbbf24",fillOpacity:.25}:{color:"#ffffff",weight:1.5,opacity:.7,fillColor:"#3b82f6",fillOpacity:.15}},[F,Z]),ed=(0,a.useCallback)((e,t)=>{if(e.properties){let s=e.properties.name||e.properties.name_en||"Kh\xf4ng x\xe1c định";t.bindPopup('\n        <div class="p-2">\n          <h3 class="font-semibold text-foreground">'.concat(s,'</h3>\n          <p class="text-sm text-muted-foreground">Ranh giới th\xe0nh phố H\xe0 Nội</p>\n          <p class="text-sm">').concat(null==_?void 0:_.area_km2.toLocaleString("vi-VN")," km\xb2 • ").concat(null==_?void 0:_.num_wards," phường/x\xe3</p>\n        </div>\n      "))}},[_]),eu=(0,a.useCallback)((e,t)=>{if(e.properties){let s=e.properties.name||e.properties.name_en||"Kh\xf4ng x\xe1c định",r=e.id,a=F.includes(r);t.bindPopup('\n        <div class="p-2 min-w-[180px]">\n          <h3 class="font-bold text-base">'.concat(s,'</h3>\n          <p class="text-sm text-gray-600 mt-1">Click để ').concat(a?"bỏ chọn":"chọn v\xe0 xem chi tiết","</p>\n        </div>\n      ")),t.on("click",()=>{F.includes(r)?O(e=>e.filter(e=>e!==r)):O(e=>[...e,r])}),t.on("mouseover",()=>{F.includes(r)||t.setStyle({weight:2.5,fillOpacity:.25})}),t.on("mouseout",()=>{F.includes(r)||t.setStyle(ec(e))})}},[F,ec]),em=e=>{en(t=>({...t,[e]:!t[e]}))},ex=(0,a.useMemo)(()=>"wards-".concat(F.join("-"),"-").concat(Z),[F,Z]),eh=(0,a.useCallback)(()=>{I(V),$(11),et(null)},[]),eg=(0,a.useMemo)(()=>E&&ea.pois?E.statistics.top_pois.filter(e=>e.location):[],[E,ea.pois]);return(0,r.jsxs)("div",{className:"space-y-4 h-full",children:[(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Dữ liệu địa l\xfd"}),(0,r.jsxs)("p",{className:"text-muted-foreground mt-1",children:["Bản đồ ranh giới h\xe0nh ch\xednh H\xe0 Nội • ",(null==_?void 0:_.num_wards)||126," phường/x\xe3"]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>q(!B),className:(0,m.cn)("flex items-center gap-2 px-4 py-2 rounded-lg","bg-card border border-border hover:bg-muted transition-colors",B&&"bg-accent/10 border-accent"),title:B?"Ẩn panel chi tiết":"Hiện panel chi tiết",children:B?(0,r.jsx)(l.Z,{className:"w-4 h-4"}):(0,r.jsx)(i.Z,{className:"w-4 h-4"})}),(0,r.jsxs)("button",{onClick:()=>ei(!0),disabled:b,className:(0,m.cn)("flex items-center gap-2 px-4 py-2 rounded-lg","bg-accent text-white hover:bg-accent/90 transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),children:[(0,r.jsx)(o.Z,{className:(0,m.cn)("w-4 h-4",b&&"animate-spin")}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"L\xe0m mới"})]})]})]}),y&&(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"bg-card rounded-lg border border-border p-4",children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Phường/X\xe3"}),(0,r.jsx)("p",{className:"text-xl font-bold text-foreground",children:((null===(e=y.administrative_boundaries)||void 0===e?void 0:e.total)||0).toLocaleString("vi-VN")}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[(null===(t=y.administrative_boundaries)||void 0===t?void 0:t.phuong)||0," phường, ",(null===(s=y.administrative_boundaries)||void 0===s?void 0:s.xa)||0," x\xe3"]})]}),(0,r.jsxs)("div",{className:"bg-card rounded-lg border border-border p-4",children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Đường phố"}),(0,r.jsx)("p",{className:"text-xl font-bold text-foreground",children:((null===(n=y.streets)||void 0===n?void 0:n.total)||0).toLocaleString("vi-VN")})]}),(0,r.jsxs)("div",{className:"bg-card rounded-lg border border-border p-4",children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"C\xf4ng tr\xecnh"}),(0,r.jsx)("p",{className:"text-xl font-bold text-foreground",children:((null===(x=y.buildings)||void 0===x?void 0:x.total)||0).toLocaleString("vi-VN")})]}),(0,r.jsxs)("div",{className:"bg-card rounded-lg border border-border p-4",children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"POI"}),(0,r.jsx)("p",{className:"text-xl font-bold text-foreground",children:((null===(h=y.pois)||void 0===h?void 0:h.total)||0).toLocaleString("vi-VN")})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",style:{height:"calc(100vh - 340px)",minHeight:"500px"},children:[(0,r.jsxs)("div",{className:"w-72 flex-shrink-0 flex flex-col gap-4 overflow-visible",children:[(0,r.jsxs)("div",{className:"bg-card rounded-lg border border-border p-4 relative z-50",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Chọn phường/x\xe3"}),(0,r.jsx)(f,{selectedIds:F,onSelectionChange:O,maxSelection:10}),F.length>0&&(0,r.jsx)("div",{className:"mt-3 pt-3 border-t border-border",children:(0,r.jsx)("button",{onClick:()=>{O([]),eh()},className:"w-full text-sm text-muted-foreground hover:text-destructive transition-colors",children:"X\xf3a tất cả lựa chọn"})})]}),(0,r.jsxs)("div",{className:"bg-card rounded-lg border border-border p-4",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Loại bản đồ"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("button",{onClick:()=>er("satellite"),className:(0,m.cn)("flex flex-col items-center gap-1 p-3 rounded-lg border transition-all","satellite"===es?"border-accent bg-accent/10":"border-border hover:bg-muted"),children:[(0,r.jsx)(c.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"text-xs",children:"Vệ tinh"})]}),(0,r.jsxs)("button",{onClick:()=>er("osm"),className:(0,m.cn)("flex flex-col items-center gap-1 p-3 rounded-lg border transition-all","osm"===es?"border-accent bg-accent/10":"border-border hover:bg-muted"),children:[(0,r.jsx)(d.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"text-xs",children:"Đường phố"})]})]})]}),(0,r.jsxs)("div",{className:"bg-card rounded-lg border border-border p-4",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Lớp hiển thị"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:ea.boundaries,onChange:()=>em("boundaries"),className:"w-4 h-4 rounded border-border text-accent focus:ring-accent"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-foreground",children:"Ranh giới H\xe0 Nội"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Viền đỏ"})]})]}),(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:ea.districts,onChange:()=>em("districts"),className:"w-4 h-4 rounded border-border text-accent focus:ring-accent"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-foreground",children:"Phường/X\xe3"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(null==_?void 0:_.num_wards)||126," đơn vị"]})]})]}),(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:ea.pois,onChange:()=>em("pois"),className:"w-4 h-4 rounded border-border text-accent focus:ring-accent"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-foreground",children:"Điểm POI"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Địa điểm quan trọng"})]})]}),(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:ea.traffic,onChange:()=>em("traffic"),className:"w-4 h-4 rounded border-border text-accent focus:ring-accent"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-foreground",children:"Giao th\xf4ng"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"T\xecnh trạng đường (TomTom)"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-card rounded-lg border border-border p-4 flex-1 overflow-y-auto",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Ch\xfa th\xedch"}),(0,r.jsxs)("div",{className:"space-y-1.5 text-xs mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-1 bg-red-600 rounded"}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"Ranh giới HN"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-2.5 bg-blue-500/30 border border-white rounded"}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"Phường/X\xe3"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-2.5 bg-amber-400/40 border-2 border-amber-500 rounded"}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"Đ\xe3 chọn"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-2.5 bg-green-500/40 border-2 border-green-600 rounded"}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"Đang xem"})]})]}),(0,r.jsxs)("div",{className:"border-t border-border pt-3",children:[(0,r.jsx)("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Loại địa điểm (POI)"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-1 text-[10px]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:"#dc2626"}}),(0,r.jsx)("span",{children:"Y tế"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:"#4f46e5"}}),(0,r.jsx)("span",{children:"Gi\xe1o dục"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:"#059669"}}),(0,r.jsx)("span",{children:"Ng\xe2n h\xe0ng"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:"#ea580c"}}),(0,r.jsx)("span",{children:"Mua sắm"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:"#d97706"}}),(0,r.jsx)("span",{children:"Ẩm thực"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:"#475569"}}),(0,r.jsx)("span",{children:"Cơ quan"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:"#0891b2"}}),(0,r.jsx)("span",{children:"Vận tải"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:"#7c3aed"}}),(0,r.jsx)("span",{children:"Du lịch"})]})]})]}),ea.traffic&&(0,r.jsxs)("div",{className:"border-t border-border pt-3 mt-3",children:[(0,r.jsx)("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"T\xecnh trạng giao th\xf4ng"}),(0,r.jsxs)("div",{className:"space-y-1 text-[10px]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-4 h-1.5 rounded",style:{backgroundColor:"#00E400"}}),(0,r.jsx)("span",{children:"Th\xf4ng tho\xe1ng"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-4 h-1.5 rounded",style:{backgroundColor:"#FFFF00"}}),(0,r.jsx)("span",{children:"Nhẹ"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-4 h-1.5 rounded",style:{backgroundColor:"#FF7E00"}}),(0,r.jsx)("span",{children:"Trung b\xecnh"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-4 h-1.5 rounded",style:{backgroundColor:"#FF0000"}}),(0,r.jsx)("span",{children:"Đ\xf4ng đ\xfac"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-4 h-1.5 rounded",style:{backgroundColor:"#7E0023"}}),(0,r.jsx)("span",{children:"Tắc nghẽn"})]})]})]})]})]}),(0,r.jsxs)("div",{className:"flex-1 bg-card rounded-xl border border-border overflow-hidden relative",children:[g?(0,r.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(o.Z,{className:"w-8 h-8 animate-spin text-accent mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Đang tải bản đồ..."})]})}):v?(0,r.jsxs)(G,{center:L,zoom:A,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,ref:el,children:[(0,r.jsx)(Q,{center:L,zoom:A,bounds:ee}),(0,r.jsx)(U,{attribution:X[es].attribution,url:X[es].url}),"satellite"===es&&(0,r.jsx)(U,{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/toner-labels/{z}/{x}/{y}{r}.png",attribution:'\xa9 <a href="https://stamen.com">Stamen Design</a>',opacity:.8}),ea.traffic&&H.url&&(0,r.jsx)(U,{url:H.url,attribution:H.attribution,opacity:.7,zIndex:100}),ea.boundaries&&C&&(0,r.jsx)(W,{data:C,style:eo,onEachFeature:ed},"hanoi-boundary"),ea.districts&&S&&(0,r.jsx)(W,{data:S,style:ec,onEachFeature:eu},ex),ea.pois&&eg.map(e=>{var t,s;let a=(t=e.subcategory,s=e.category,t&&J[t]?J[t]:"healthcare"===s?J.hospital:"education"===s?J.school:"finance"===s?J.bank:"shop"===s?J.convenience:"tourism"===s?J.hotel:"leisure"===s?J.park:J.default),n=e.subcategory?Y[e.subcategory]||e.subcategory:e.category;return(0,r.jsx)(K,{center:[e.location.lat,e.location.lng],radius:8,pathOptions:{color:"#ffffff",weight:2,fillColor:a.color,fillOpacity:.95},children:(0,r.jsx)(z,{children:(0,r.jsxs)("div",{className:"min-w-[220px] max-w-[280px]",children:[(0,r.jsxs)("div",{className:"flex items-start gap-2 mb-2",children:[(0,r.jsx)("span",{className:"text-2xl",children:a.emoji}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-bold text-base text-gray-900 leading-tight",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-0.5",children:n})]})]}),(0,r.jsxs)("div",{className:"space-y-1.5 text-sm border-t border-gray-100 pt-2 mt-2",children:[e.address&&(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-gray-400 flex-shrink-0",children:"\uD83D\uDCCD"}),(0,r.jsx)("span",{className:"text-gray-700",children:e.address})]}),e.phone&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"\uD83D\uDCDE"}),(0,r.jsx)("a",{href:"tel:".concat(e.phone),className:"text-blue-600 hover:underline",children:e.phone})]}),e.website&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"\uD83C\uDF10"}),(0,r.jsx)("a",{href:e.website.startsWith("http")?e.website:"https://".concat(e.website),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate max-w-[180px]",children:e.website.replace(/^https?:\/\//,"").split("/")[0]})]}),e.opening_hours&&(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"\uD83D\uDD50"}),(0,r.jsx)("span",{className:"text-gray-700",children:e.opening_hours})]})]}),(0,r.jsx)("div",{className:"mt-3 pt-2 border-t border-gray-100",children:(0,r.jsx)("span",{className:"inline-block px-2 py-0.5 rounded-full text-xs font-medium text-white",style:{backgroundColor:a.color},children:a.name})})]})})},e.id)})]}):(0,r.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Đang khởi tạo bản đồ..."})}),Z&&E&&(0,r.jsxs)("div",{className:"absolute top-4 left-4 bg-black/70 text-white px-3 py-2 rounded-lg text-sm z-[1000]",children:[(0,r.jsx)("p",{className:"font-semibold",children:E.boundary.name}),(0,r.jsxs)("p",{className:"text-xs opacity-80",children:[E.boundary.area_km2.toFixed(2)," km\xb2 • ",E.statistics.pois.total," POI"]})]}),(ee||11!==A)&&(0,r.jsx)("button",{onClick:eh,className:"absolute bottom-4 left-4 bg-white dark:bg-gray-800 shadow-lg px-3 py-2 rounded-lg text-sm font-medium z-[1000] hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Xem to\xe0n bộ H\xe0 Nội"})]}),B&&F.length>0&&(0,r.jsx)("div",{className:"hidden lg:flex lg:flex-col w-96 flex-shrink-0 gap-4 overflow-y-auto",children:(0,r.jsx)(R,{boundaryId:Z,boundaryName:(null==E?void 0:E.boundary.name)||"",boundaryDetails:E})})]})]})}},2486:function(e,t,s){"use strict";s.d(t,{li:function(){return o},xW:function(){return u},wK:function(){return c},Lj:function(){return d},B7:function(){return i}});var r=s(2249),a=s(3464);class n{setupInterceptors(){this.client.interceptors.request.use(e=>{{let t=localStorage.getItem("access_token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)})}async get(e,t){return(await this.client.get(e,{params:t})).data}async post(e,t){return(await this.client.post(e,t)).data}async put(e,t){return(await this.client.put(e,t)).data}async patch(e,t,s){return(await this.client.patch(e,t,s)).data}async delete(e){return(await this.client.delete(e)).data}constructor(){(0,r._)(this,"client",void 0),this.client=a.Z.create({baseURL:"http://localhost:8000/api/v1",timeout:1e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}}let l=new n,i={getStatistics:async()=>l.get("/reports/statistics"),getReports:async e=>l.get("/reports/",e),getReport:async e=>l.get("/reports/".concat(e)),getNearbyReports:async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return l.get("/reports/nearby",{lat:e,lng:t,radius:s,limit:r})},createReport:async e=>l.post("/reports/",e),updateStatus:async(e,t)=>l.patch("/reports/".concat(e,"/status"),null,{params:{new_status:t}})},o={getBoundaries:async e=>l.get("/geographic/boundaries",e),getBoundariesGeoJSON:async e=>l.get("/geographic/boundaries/geojson",e),getHanoiUnionBoundary:async e=>l.get("/geographic/boundaries/hanoi-union",e),getBoundary:async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l.get("/geographic/boundaries/".concat(e),{include_geometry:t})},getBoundaryContainingPoint:async(e,t,s)=>l.get("/geographic/boundaries/containing-point",{latitude:e,longitude:t,admin_level:s}),getStreets:async e=>l.get("/geographic/streets",e),getNearbyStreets:async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return l.get("/geographic/streets/nearby",{lat:e,lng:t,radius:s,limit:r})},getBoundariesListSimple:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return l.get("/geographic/boundaries/list/simple",{admin_level:e})},getBoundaryDetails:async function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e-4;return l.get("/geographic/boundaries/".concat(e,"/details"),{include_geometry:t,simplify_tolerance:s})},getMultiBoundaryDetails:async function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.001;return l.post("/geographic/boundaries/multi-details?include_geometry=".concat(t,"&simplify_tolerance=").concat(s),e)},getUrbanData:async e=>l.get("/geographic/boundaries/".concat(e,"/urban-data"))},c={check:async()=>(await fetch("".concat("http://localhost:8000/api/v1".replace("/api/v1","")||"http://localhost:8000","/health"))).json()},d={getWeather:async()=>l.get("/realtime/weather/latest"),getAirQuality:async()=>l.get("/realtime/air-quality/latest"),getTrafficHotspots:async()=>l.get("/realtime/traffic/hotspots"),getWeatherMultiCity:async()=>l.get("/realtime/weather/cities"),getAirQualityMultiCity:async()=>l.get("/realtime/air-quality/cities")},u={getStatistics:async()=>l.get("/geographic/statistics")}},3448:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(1994),a=s(3335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}}},function(e){e.O(0,[590,128,557,971,117,744],function(){return e(e.s=299)}),_N_E=e.O()}]);